# Zanzibar FIO Model - Visual Diagrams
## Architecture and Data Flow Visualizations

---

## ğŸ—ï¸ SYSTEM ARCHITECTURE (High-Level)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ZANZIBAR FIO PATHOGEN MODEL                      â”‚
â”‚                     Groundwater Contamination Prediction                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                                   â–¼
                    
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            INPUT DATA                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  ğŸ“ SANITATION (154,419 records)          ğŸ“ BOREHOLES (18,976 wells)  â”‚
â”‚     â””â”€ data/input/sanitation_type.csv       â”œâ”€ private (15,285)        â”‚
â”‚        â€¢ Latitude, Longitude                â”‚  â””â”€ data/input/          â”‚
â”‚        â€¢ Toilet Category (1-4)              â”‚     private_boreholes.csvâ”‚
â”‚        â€¢ Region, District, Ward             â””â”€ government (44)          â”‚
â”‚                                                â””â”€ data/input/          â”‚
â”‚                                                   government_...csv     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                                   â–¼

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         PREPROCESSING                                   â”‚
â”‚                    (app/preprocess_boreholes.py)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  Derive Q (Pumping Rates):                                             â”‚
â”‚    â€¢ Private: 2,000 L/day (default)                                    â”‚
â”‚    â€¢ Government: 20,000 L/day (measured)                               â”‚
â”‚                                                                         â”‚
â”‚  Output â†’ data/derived/*_boreholes_enriched.csv                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                                   â–¼

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    LAYER 1: SOURCE LOADING                              â”‚
â”‚                       (app/fio_core.py)                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  For each household toilet:                                            â”‚
â”‚                                                                         â”‚
â”‚    INPUT:                                                              â”‚
â”‚      â€¢ Toilet category (1=sewered, 2=pit, 3=septic, 4=OD)             â”‚
â”‚      â€¢ Household population (default: 10 people)                       â”‚
â”‚      â€¢ Containment efficiency (Î·):                                     â”‚
â”‚         â”œâ”€ Sewered: 50%                                               â”‚
â”‚         â”œâ”€ Pit: 10%       â—„â”€â”€ 78.5% of population                    â”‚
â”‚         â”œâ”€ Septic: 30%                                                â”‚
â”‚         â””â”€ OD: 0%                                                     â”‚
â”‚                                                                         â”‚
â”‚    PROCESS:                                                            â”‚
â”‚      fio_load = Pop Ã— EFIO Ã— (1 - Î·)                                  â”‚
â”‚                                                                         â”‚
â”‚      Where:                                                            â”‚
â”‚        â€¢ EFIO = 1.0Ã—10â· CFU/person/day (shedding rate)                â”‚
â”‚        â€¢ Î· = containment efficiency (fraction)                         â”‚
â”‚                                                                         â”‚
â”‚    EXAMPLE:                                                            â”‚
â”‚      Pit latrine (category 2):                                         â”‚
â”‚        10 people Ã— 10,000,000 Ã— (1 - 0.10)                            â”‚
â”‚        = 90,000,000 CFU/day leaked                                    â”‚
â”‚                                                                         â”‚
â”‚    OUTPUT â†’ data/derived/net_pathogen_load_from_households.csv        â”‚
â”‚      [toilet_id, lat, long, fio_load]                                 â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                                   â–¼

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  LAYER 2: SPATIAL TRANSPORT                             â”‚
â”‚                   (app/fio_transport.py)                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  Spatial Linking (BallTree Algorithm):                                 â”‚
â”‚                                                                         â”‚
â”‚    For each toilet:                                                    â”‚
â”‚      1. Find boreholes within radius                                   â”‚
â”‚         â€¢ Private boreholes: 35 m                                      â”‚
â”‚         â€¢ Government boreholes: 100 m                                  â”‚
â”‚                                                                         â”‚
â”‚      2. Calculate distance (Haversine great-circle)                    â”‚
â”‚                                                                         â”‚
â”‚      3. Apply exponential decay:                                       â”‚
â”‚                                                                         â”‚
â”‚         surviving_load = fio_load Ã— exp(-ks Ã— distance)               â”‚
â”‚                                                                         â”‚
â”‚         Where:                                                         â”‚
â”‚           â€¢ ks = 0.06 mâ»Â¹ (decay coefficient)                         â”‚
â”‚           â€¢ distance in meters                                         â”‚
â”‚                                                                         â”‚
â”‚    DECAY PROFILE:                                                      â”‚
â”‚      Distance â”‚ Survival %                                             â”‚
â”‚      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                             â”‚
â”‚         0 m   â”‚   100%                                                â”‚
â”‚        10 m   â”‚    55%                                                â”‚
â”‚        20 m   â”‚    30%                                                â”‚
â”‚        35 m   â”‚    12%    â—„â”€â”€ Private radius cutoff                  â”‚
â”‚        50 m   â”‚     5%                                                â”‚
â”‚       100 m   â”‚     0.2%  â—„â”€â”€ Government radius cutoff               â”‚
â”‚                                                                         â”‚
â”‚    OUTPUT â†’ data/output/net_surviving_pathogen_load_links.csv         â”‚
â”‚      [toilet_id, borehole_id, distance_m, surviving_fio_load]         â”‚
â”‚                                                                         â”‚
â”‚    Note: Adjacency cached to data/derived/adjacency__*.csv            â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                                   â–¼

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              LAYER 3: DILUTION & CONCENTRATION                          â”‚
â”‚                   (app/fio_transport.py)                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  For each borehole:                                                    â”‚
â”‚                                                                         â”‚
â”‚    1. AGGREGATE all incoming loads:                                    â”‚
â”‚                                                                         â”‚
â”‚       total_load = Î£ (surviving_fio_load from ALL linked toilets)     â”‚
â”‚                                                                         â”‚
â”‚    2. DILUTE by pumping rate:                                          â”‚
â”‚                                                                         â”‚
â”‚       concentration = total_load / (Q_L_per_day / 10)                 â”‚
â”‚                                                                         â”‚
â”‚       Unit conversion:                                                 â”‚
â”‚         â€¢ Numerator: CFU/day                                           â”‚
â”‚         â€¢ Denominator: L/day â†’ (L/day Ã· 10) = 100mL/day              â”‚
â”‚         â€¢ Result: CFU/100mL  âœ“                                        â”‚
â”‚                                                                         â”‚
â”‚    EXAMPLE:                                                            â”‚
â”‚      Government borehole with 50 nearby toilets:                       â”‚
â”‚        â€¢ Toilet 1â†’borehole: 50M CFU/day                               â”‚
â”‚        â€¢ Toilet 2â†’borehole: 30M CFU/day                               â”‚
â”‚        â€¢ ... (48 more)                                                 â”‚
â”‚        â€¢ TOTAL: 800M CFU/day                                          â”‚
â”‚                                                                         â”‚
â”‚        With Q = 20,000 L/day:                                          â”‚
â”‚          800,000,000 / (20,000 / 10)                                  â”‚
â”‚          = 800,000,000 / 2,000                                        â”‚
â”‚          = 400,000 CFU/100mL                                          â”‚
â”‚                                                                         â”‚
â”‚    OUTPUT â†’ data/output/fio_concentration_at_boreholes.csv            â”‚
â”‚      [borehole_id, borehole_type, Q_L_per_day, concentration]         â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                                   â–¼

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     CALIBRATION (Optional)                              â”‚
â”‚                      (app/calibrate.py)                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  OPTION A: Point Calibration (Minimize RMSE)                          â”‚
â”‚    â€¢ Grid search over ks_per_m, efio_scale                            â”‚
â”‚    â€¢ Compare model vs lab concentrations                               â”‚
â”‚    â€¢ Limitation: Only 3-7 positive lab detections                     â”‚
â”‚                                                                         â”‚
â”‚  OPTION B: Trend Calibration (Maximize Rank Correlation)              â”‚
â”‚    â€¢ Grid search over ks, EFIO, efficiencies                          â”‚
â”‚    â€¢ Optimize Spearman Ï (rank correlation)                           â”‚
â”‚    â€¢ Best: Ï=1.0 with ks=0.06, n=3                                    â”‚
â”‚                                                                         â”‚
â”‚  OUTPUT â†’ data/output/calibration_results.csv                          â”‚
â”‚           data/output/calibrated_trend_scenario.json                   â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                                   â–¼

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        VISUALIZATION                                    â”‚
â”‚                      (app/dashboard.py)                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  Interactive Streamlit Dashboard (port 8502):                          â”‚
â”‚                                                                         â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚    â”‚  ğŸ—ºï¸  WEBGL MAP (PyDeck)                        â”‚                 â”‚
â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                 â”‚
â”‚    â”‚  â”‚  â€¢ Color-coded boreholes by risk         â”‚  â”‚                 â”‚
â”‚    â”‚  â”‚    ğŸŸ¢ Low (<10)                          â”‚  â”‚                 â”‚
â”‚    â”‚  â”‚    ğŸ”µ Moderate (10-100)                  â”‚  â”‚                 â”‚
â”‚    â”‚  â”‚    ğŸŸ  High (100-1,000)                   â”‚  â”‚                 â”‚
â”‚    â”‚  â”‚    ğŸ”´ Very High (>1,000 CFU/100mL)       â”‚  â”‚                 â”‚
â”‚    â”‚  â”‚                                          â”‚  â”‚                 â”‚
â”‚    â”‚  â”‚  â€¢ Click wells for details               â”‚  â”‚                 â”‚
â”‚    â”‚  â”‚  â€¢ Heatmap overlay (toilet density)      â”‚  â”‚                 â”‚
â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                 â”‚
â”‚    â”‚                                                 â”‚                 â”‚
â”‚    â”‚  ğŸ“Š SCENARIO BUILDER                           â”‚                 â”‚
â”‚    â”‚    ğŸšï¸ OD reduction: [0-100%]                   â”‚                 â”‚
â”‚    â”‚    ğŸšï¸ Infrastructure upgrade: [0-100%]         â”‚                 â”‚
â”‚    â”‚    ğŸšï¸ Fecal sludge treatment: [0-100%]        â”‚                 â”‚
â”‚    â”‚    [â–¶ï¸ Run Scenario] â† Real-time recompute     â”‚                 â”‚
â”‚    â”‚                                                 â”‚                 â”‚
â”‚    â”‚  ğŸ“ˆ SUMMARY STATS                              â”‚                 â”‚
â”‚    â”‚    â€¢ Median concentration by type              â”‚                 â”‚
â”‚    â”‚    â€¢ Risk category breakdown                   â”‚                 â”‚
â”‚    â”‚    â€¢ Model vs Lab comparison                   â”‚                 â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š DATA FLOW DIAGRAM (File-Level)

```
INPUT FILES (data/input/)
â”œâ”€ sanitation_type.csv (154k records)
â”œâ”€ private_boreholes.csv (15k wells)
â””â”€ government_boreholes.csv (44 wells + lab data)
    â”‚
    â–¼
PREPROCESSING (derive-private-q, derive-government-q)
    â”‚
    â–¼
DERIVED FILES (data/derived/)
â”œâ”€ private_boreholes_enriched.csv â† Q values added
â”œâ”€ government_boreholes_enriched.csv
â”œâ”€ sanitation_type_with_population.csv â† Pop & efficiency added
â”œâ”€ net_pathogen_load_from_households.csv â† Layer 1 output
â””â”€ adjacency__*.csv â† Spatial links cache
    â”‚
    â–¼
PIPELINE EXECUTION (python main.py pipeline)
    â”‚
    â”œâ”€ Layer 1: fio_core.py
    â”‚    â””â”€ Compute fio_load per toilet
    â”‚
    â”œâ”€ Layer 2: fio_transport.py
    â”‚    â””â”€ Link toiletsâ†’boreholes with decay
    â”‚
    â””â”€ Layer 3: fio_transport.py
         â””â”€ Aggregate loads, compute concentration
    â”‚
    â–¼
OUTPUT FILES (data/output/)
â”œâ”€ net_surviving_pathogen_load_links.csv â† All toiletâ†’borehole pairs
â”œâ”€ fio_concentration_at_boreholes.csv â† Final concentrations
â”œâ”€ dashboard_government_boreholes.csv â† Viz-optimized (w/ coords)
â”œâ”€ dashboard_private_boreholes.csv â† Top 20k highest
â”œâ”€ dashboard_toilets_markers.csv â† For map markers
â”œâ”€ dashboard_toilets_heatmap.csv â† For heatmap layer
â”œâ”€ last_scenario.json â† Metadata (timestamp, params)
â””â”€ calibration_results.csv â† If calibration ran
    â”‚
    â–¼
DASHBOARD (streamlit run app/dashboard.py)
    â”‚
    â””â”€ http://localhost:8502
       â”œâ”€ Interactive map
       â”œâ”€ Scenario builder
       â””â”€ Real-time recompute
```

---

## ğŸ§® EQUATION FLOW (Step-by-Step Example)

```
EXAMPLE: Private borehole in dense urban area

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

LAYER 1: SOURCE LOADING

  Nearby Toilet #1 (Pit latrine):
    â€¢ Household population: 10 people
    â€¢ Toilet category: 2 (basic pit)
    â€¢ Containment efficiency: 0.10 (10%)
    
    fio_loadâ‚ = 10 Ã— 1.0Ã—10â· Ã— (1 - 0.10)
              = 10 Ã— 10,000,000 Ã— 0.90
              = 90,000,000 CFU/day
              
  Nearby Toilet #2 (Septic):
    â€¢ Household population: 10 people
    â€¢ Toilet category: 3 (septic)
    â€¢ Containment efficiency: 0.30 (30%)
    
    fio_loadâ‚‚ = 10 Ã— 1.0Ã—10â· Ã— (1 - 0.30)
              = 10 Ã— 10,000,000 Ã— 0.70
              = 70,000,000 CFU/day
              
  ... (18 more toilets within 35m)
  
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

LAYER 2: SPATIAL TRANSPORT

  From Toilet #1 (distance: 12m):
    surviving_loadâ‚ = 90,000,000 Ã— exp(-0.06 Ã— 12)
                    = 90,000,000 Ã— exp(-0.72)
                    = 90,000,000 Ã— 0.487
                    = 43,800,000 CFU/day arrives
                    
  From Toilet #2 (distance: 25m):
    surviving_loadâ‚‚ = 70,000,000 Ã— exp(-0.06 Ã— 25)
                    = 70,000,000 Ã— exp(-1.50)
                    = 70,000,000 Ã— 0.223
                    = 15,600,000 CFU/day arrives
                    
  ... (18 more contributions)
  
  TOTAL arriving at borehole:
    Î£ surviving_loads = 43,800,000 + 15,600,000 + ... 
                      = 450,000,000 CFU/day
  
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

LAYER 3: DILUTION

  Borehole pumping rate:
    Q = 2,000 L/day (private well)
    
  Concentration:
    concentration = 450,000,000 / (2,000 / 10)
                  = 450,000,000 / 200
                  = 2,250,000 CFU/100mL
                  
  Risk category: VERY HIGH (>1,000 CFU/100mL)
  
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

INTERPRETATION:

  This well receives contamination from 20 nearby toilets.
  Even with distance decay, the cumulative load is extreme.
  
  Intervention scenario: Upgrade 50% of pit latrines â†’ septic
    â€¢ Toilet #1 now: 70M CFU/day (instead of 90M)
    â€¢ New concentration: ~1,800,000 CFU/100mL
    â€¢ Still Very High, but 20% improvement
    
  Better intervention: Relocate well to area with <5 sources
    â€¢ Target concentration: <100 CFU/100mL (Highâ†’Moderate)
    
```

---

## ğŸ¯ PARAMETER RELATIONSHIPS (Sensitivity)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         HOW EACH PARAMETER AFFECTS CONCENTRATION               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚  â†‘ INCREASE Household Population â†’ â†‘ Concentration (linear)   â”‚
â”‚     10 â†’ 20 people = 2Ã— higher concentration                  â”‚
â”‚                                                                â”‚
â”‚  â†‘ INCREASE Containment Efficiency â†’ â†“ Concentration          â”‚
â”‚     10% â†’ 30% = 0.78Ã— concentration (22% reduction)           â”‚
â”‚                                                                â”‚
â”‚  â†‘ INCREASE ks_per_m (decay rate) â†’ â†“ Concentration           â”‚
â”‚     0.03 â†’ 0.06 = ~50% reduction (less survives distance)     â”‚
â”‚                                                                â”‚
â”‚  â†‘ INCREASE Radius â†’ â†‘ Concentration (more sources linked)    â”‚
â”‚     35m â†’ 50m = potentially 2-3Ã— more sources                 â”‚
â”‚                                                                â”‚
â”‚  â†‘ INCREASE Q (pumping rate) â†’ â†“ Concentration (linear)       â”‚
â”‚     2,000 â†’ 4,000 L/day = 0.5Ã— concentration (dilution)       â”‚
â”‚                                                                â”‚
â”‚  â†“ DECREASE Distance â†’ â†‘â†‘ Concentration (exponential!)        â”‚
â”‚     20m â†’ 10m = 1.8Ã— higher (less decay)                      â”‚
â”‚     10m â†’ 5m = 1.7Ã— higher                                    â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—ºï¸ SPATIAL CONCEPT DIAGRAM

```
BIRD'S-EYE VIEW: Toilet-Borehole Linkage

    N
    â†‘
    
    Legend:
      ğŸš½ = Toilet (with pit latrine)
      ğŸ”µ = Private borehole (35m radius)
      ğŸŸ¢ = Government borehole (100m radius)
      â”€â”€â”€ = Links within radius
      Â·Â·Â· = Beyond radius (not linked)

    
                                  ğŸš½
                                  â”‚
                              10m â”‚
                                  â”‚
    ğŸš½ Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â· ğŸ”µ Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â· ğŸš½
    â”‚                   â•± â”‚ â•²                   â”‚
    â”‚ 40m          25m â•±  â”‚  â•² 30m          40m â”‚
    â”‚    (not     â”€â”€â”€â”€â•±   â”‚   â•²â”€â”€â”€â”€             â”‚
    â”‚     linked) ğŸš½      â”‚      ğŸš½              â”‚
                      â•²   â”‚   â•±                 
                   15m â•²  â”‚  â•± 20m
                        â•² â”‚ â•±
                         ğŸš½
                          
    Private Borehole (ğŸ”µ):
      â€¢ Radius: 35m
      â€¢ Linked toilets: 5 within circle
      â€¢ Excluded: 2 beyond 35m
      
      Concentration calculation:
        = Î£(5 decayed loads) / (2000/10)
        = High cumulative effect
        
                                    
                    ğŸš½              
                     â”‚              
                 80m â”‚              
                     â”‚              
    ğŸš½ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸŸ¢ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸš½
    â”‚            â•±  â”‚  â•²            â”‚
60m â”‚       70mâ•±    â”‚   â•²50m    60mâ”‚
    â”‚        â•±      â”‚    â•²          â”‚
    ğŸš½ â”€â”€â”€â”€â”€â”€â”€â”€  ğŸš½ â”‚ ğŸš½  â”€â”€â”€â”€â”€â”€â”€â”€  ğŸš½
              â•²     â”‚     â•±
            40mâ•²    â”‚    â•±30m
                â•²   â”‚   â•±
                 ğŸš½  â”‚  ğŸš½
                  â•² â”‚ â•±
                   ğŸš½
                   
    Government Borehole (ğŸŸ¢):
      â€¢ Radius: 100m
      â€¢ Linked toilets: 11 within circle
      â€¢ Higher pumping: Q = 20,000 L/day
      
      Concentration calculation:
        = Î£(11 decayed loads) / (20000/10)
        = Lower due to 10Ã— dilution
        
    KEY INSIGHT:
      Even with more sources, government wells
      stay cleaner due to:
        1. 10Ã— more dilution (Q=20k vs 2k)
        2. Larger distances (more decay)
        3. Better siting (regulated setbacks)
```

---

## ğŸ“ˆ CONCENTRATION DISTRIBUTION (Visual)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CONCENTRATION DISTRIBUTION: GOVERNMENT vs PRIVATE            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚  GOVERNMENT BOREHOLES (n=44)                                   â”‚
â”‚                                                                â”‚
â”‚  CFU/100mL    Count    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                   â”‚
â”‚     0-10       18     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    â”‚
â”‚    10-100      15     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ              â”‚
â”‚   100-1000     10     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                        â”‚
â”‚  1000-10000     1     â–ˆâ–ˆ                                      â”‚
â”‚                                                                â”‚
â”‚  Median: 69 CFU/100mL                                          â”‚
â”‚  Mean: 420 CFU/100mL (skewed by few high outliers)            â”‚
â”‚  % > 1000: 2.3%                                                â”‚
â”‚                                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  PRIVATE BOREHOLES (n=15,285)                                  â”‚
â”‚                                                                â”‚
â”‚  CFU/100mL    Count    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚     0-10       142     â–ˆ                                       â”‚
â”‚    10-100      567     â–ˆâ–ˆâ–ˆ                                     â”‚
â”‚   100-1000    1,602    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                             â”‚
â”‚  1000-10000   8,453    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚
â”‚   >10000      4,521    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ             â”‚
â”‚                                                                â”‚
â”‚  Median: 3,913 CFU/100mL                                       â”‚
â”‚  Mean: 5,240 CFU/100mL                                         â”‚
â”‚  % > 1000: 84.9%                                               â”‚
â”‚                                                                â”‚
â”‚  KEY: 57Ã— higher median than government!                       â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”€ SCENARIO COMPARISON FLOWCHART

```
BASELINE (crisis_2025_current)
  â”œâ”€ Containment: Sewered 50%, Pit 10%, Septic 30%
  â”œâ”€ No interventions
  â””â”€ Result: 84.9% private wells > 1,000 CFU/100mL
      â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚              â”‚              â”‚                 â”‚
      â–¼              â–¼              â–¼                 â–¼
      
SCENARIO 1:      SCENARIO 2:    SCENARIO 3:      SCENARIO 4:
OD Reduction     Infra Upgrade   FSM Scale-up     Combined
                                                   
â”œ Convert 30%    â”œ Upgrade 20%   â”œ Improve 60%    â”œ Upgrade 30%
â”‚ OD â†’ Septic    â”‚ Pit â†’ Septic  â”‚ Septic â†’ 80%   â”‚ Pit â†’ Septic
â”‚                â”‚               â”‚                â”‚
â”œ Pit: 10%       â”œ 80% stay pit  â”œ Pit: 10%       â”œ Centralized
â”‚ Septic: 30%    â”‚ 20% â†’ septic  â”‚ Septic: 80%    â”‚ treatment on
â”‚                â”‚               â”‚                â”‚
â”” Impact: ~2%    â”” Impact: ~15%  â”” Impact: ~25%   â”” Impact: ~40%
  reduction        reduction       reduction        reduction
  (small effect)   (moderate)      (significant)    (major)
  
  
DECISION TREE for Stakeholders:

  Question 1: Budget available?
    â”œâ”€ Low (<$100k) â†’ Scenario 1 (OD reduction via behavior change)
    â”‚                  ROI: Low (small population affected)
    â”‚
    â”œâ”€ Medium ($100k-$1M) â†’ Scenario 2 (targeted pit upgrades)
    â”‚                        ROI: Medium (15% improvement, 20% coverage)
    â”‚
    â””â”€ High (>$1M) â†’ Scenario 4 (combined approach)
                      ROI: High (40% improvement, systemic change)
  
  Question 2: Where to target?
    â””â”€ Run dashboard, filter for wells >5,000 CFU/100mL
       â””â”€ Identify wards with highest density
          â””â”€ Upgrade pit latrines in those wards first
```

---

## ğŸ¨ DASHBOARD LAYOUT (Visual Reference)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸŒŠ ZANZIBAR FIO PATHOGEN MODEL DASHBOARD                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   SCENARIO     â”‚  â”‚          MAP CONTROLS                     â”‚ â”‚
â”‚  â”‚   BUILDER      â”‚  â”‚  â˜‘ Show Private  â˜‘ Show Government       â”‚ â”‚
â”‚  â”‚                â”‚  â”‚  â˜ Ward Boundaries  â˜ Heatmap            â”‚ â”‚
â”‚  â”‚  ğŸšï¸ OD: 0%     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”‚  ğŸšï¸ Upgrade:   â”‚                                                â”‚
â”‚  â”‚     20%        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ğŸšï¸ FSM: 0%    â”‚  â”‚                                           â”‚ â”‚
â”‚  â”‚                â”‚  â”‚       ğŸ—ºï¸ INTERACTIVE MAP                   â”‚ â”‚
â”‚  â”‚  [â–¶ï¸ Run]      â”‚  â”‚                                           â”‚ â”‚
â”‚  â”‚                â”‚  â”‚    ğŸ”´ğŸ”´ğŸŸ ğŸ”µğŸŸ¢  â† Color by concentration    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                           â”‚ â”‚
â”‚                      â”‚    Click well â†’ Popup with details        â”‚ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                                           â”‚ â”‚
â”‚  â”‚   SUMMARY      â”‚  â”‚                                           â”‚ â”‚
â”‚  â”‚                â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”‚  Private       â”‚                                                â”‚
â”‚  â”‚  Median:       â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  3,913         â”‚  â”‚   CONCENTRATION BREAKDOWN                 â”‚ â”‚
â”‚  â”‚  CFU/100mL     â”‚  â”‚                                           â”‚ â”‚
â”‚  â”‚                â”‚  â”‚   Risk Level    Private   Government      â”‚ â”‚
â”‚  â”‚  Government    â”‚  â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚ â”‚
â”‚  â”‚  Median:       â”‚  â”‚   ğŸŸ¢ Low           1%        41%          â”‚ â”‚
â”‚  â”‚  69            â”‚  â”‚   ğŸ”µ Moderate      4%        34%          â”‚ â”‚
â”‚  â”‚  CFU/100mL     â”‚  â”‚   ğŸŸ  High         10%        23%          â”‚ â”‚
â”‚  â”‚                â”‚  â”‚   ğŸ”´ Very High    85%         2%          â”‚ â”‚
â”‚  â”‚  % > 1000:     â”‚  â”‚                                           â”‚ â”‚
â”‚  â”‚   Private 85%  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”‚   Gov't 2%     â”‚                                                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                â”‚
â”‚                                                                     â”‚
â”‚  Last updated: 2025-10-07 10:45 UTC                                â”‚
â”‚  Scenario: crisis_2025_current                                     â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

POPUP on well click:

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  ğŸ”´ privbh_01234           â”‚
  â”‚  (Private Borehole)        â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚  Model: 8,520 CFU/100mL    â”‚
  â”‚  Lab: N/A                  â”‚
  â”‚  Q: 2,000 L/day            â”‚
  â”‚  Linked toilets: 15        â”‚
  â”‚  Nearest: 8m (pit latrine) â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**These diagrams are presentation-ready - use them on slides or whiteboard!**

